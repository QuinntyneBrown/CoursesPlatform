<div class="forgot-password-page">
  <div class="forgot-password-page__container">
    <h1 class="forgot-password-page__title">Reset Password</h1>
    <p class="forgot-password-page__subtitle">Enter your email to receive a password reset link</p>

    @if (successMessage) {
      <div class="forgot-password-page__success">
        {{ successMessage }}
      </div>
    }

    @if (errorMessage) {
      <div class="forgot-password-page__error">
        {{ errorMessage }}
      </div>
    }

    <form [formGroup]="form" (ngSubmit)="onSubmit()">
      <mat-form-field appearance="outline" class="forgot-password-page__field">
        <mat-label>Email</mat-label>
        <input matInput type="email" formControlName="email" placeholder="Enter your email">
        @if (form.get('email')?.hasError('required') && form.get('email')?.touched) {
          <mat-error>Email is required</mat-error>
        }
        @if (form.get('email')?.hasError('email') && form.get('email')?.touched) {
          <mat-error>Please enter a valid email</mat-error>
        }
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit" [disabled]="isLoading" class="forgot-password-page__submit">
        @if (isLoading) {
          <mat-spinner diameter="20"></mat-spinner>
        } @else {
          Send Reset Link
        }
      </button>
    </form>

    <button mat-button (click)="onBackToLogin()" class="forgot-password-page__back">
      Back to Login
    </button>
  </div>
</div>
